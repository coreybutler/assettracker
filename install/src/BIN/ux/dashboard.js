xrb.dash={title:"Home",changeLogTitle:"Changes in Last 10 days",changeCompTitle:"Computer",changeTypeTitle:"Type",changeActTitle:"Action",reportTitle:"Report Archive",serverTitle:"Environment Notices (Right Click for Options)",removeMenu:"Remove Orphan",promptFileRmvTitle:"Remove Computer",promptFileRmvText:"You are about to remove all records for this computer. This cannot be undone. All records, including change history, applications, notes, and properties will be removed. Are you sure you want to do this?<br/><br/><i>This computer was not found and may no longer exist.</i>",rdp:"Launch Computer",openTab:"Edit Computer Properties",reloadPage:"Refresh",welcomeLine:"You are logged in as <b>{username}</b>.",dashURL:rb.data+"dashboard.cfm",data:rb.data};
dashboard=function(b){var j;var f=new Ext.Panel({region:"center",autoScroll:true,autoLoad:xrb.dash.dashURL,tbar:new Ext.Toolbar({items:[{text:xrb.dash.welcomeLine.toString().replace(/\{username\}/g,Ext.getUsername()),xtype:"tbtext"},"->",{iconCls:"icon-refresh",text:xrb.dash.reloadPage,handler:function(){this.ownerCt.ownerCt.load(xrb.dash.dashURL+"?refresh");
}}]})});var k=new Ext.grid.GridPanel({region:"center",title:xrb.dash.reportTitle+": "+xrb.reporting.existingInstruction,store:Ext.storeReports,iconCls:"icon-archive-reports",colModel:new Ext.grid.ColumnModel({defaults:{sortable:true},columns:[new Ext.grid.RowNumberer(),{header:xrb.reporting.headerName,dataIndex:"nm"},{header:xrb.reporting.headerDate,dataIndex:"dt",width:95,fixed:true,renderer:Ext.util.Format.dateRenderer("Y-m-d")}]}),viewConfig:{forceFit:true},sm:new Ext.grid.RowSelectionModel({singleSelect:true}),listeners:{rowdblclick:function(n,m,o){document.location=xrb.reporting.download+n.getStore().getAt(m).data.nm;
}}});var l=new Ext.grid.GridPanel({region:"north",height:165,title:xrb.dash.changeLogTitle,store:Ext.storeRecentChange,iconCls:"icon-gear",colModel:new Ext.grid.ColumnModel({defaults:{sortable:true},columns:[new Ext.grid.RowNumberer(),{header:xrb.dash.changeCompTitle,dataIndex:"nm"},{header:xrb.dash.changeTypeTitle,dataIndex:"ctg"},{header:xrb.dash.changeActTitle,dataIndex:"act",width:175,fixed:true}]}),viewConfig:{forceFit:true},sm:new Ext.grid.RowSelectionModel({singleSelect:true}),listeners:{rowdblclick:function(n,m,o){Ext.openComputer(null,Ext.storeComputers.find("dn",n.getStore().getAt(m).data.sysid));
}}});var c=new Ext.grid.GridPanel({region:"center",title:xrb.dash.serverTitle,store:Ext.storeServerStatus,iconCls:"icon-computer",colModel:new Ext.grid.ColumnModel({defaults:{sortable:true},columns:[new Ext.grid.RowNumberer(),{header:xrb.dash.changeCompTitle,dataIndex:"nm",renderer:a},{header:xrb.dash.changeTypeTitle,dataIndex:"type"}]}),viewConfig:{forceFit:true},sm:new Ext.grid.RowSelectionModel({singleSelect:true}),listeners:{rowdblclick:function(n,m,o){var p=n.getStore().getAt(m).data;
if(p.type.toLowerCase()=="new"){Ext.openComputer(null,Ext.storeComputers.find("dn",p.sysid));}},rowcontextmenu:function(p,n,q){var o=p.getStore().getAt(n);if(o.data.type.toLowerCase()=="orphan"){var m=new Ext.menu.Menu({items:[{text:xrb.dash.removeMenu,iconCls:"icon-remove",handler:function(){Ext.Msg.show({title:xrb.dash.promptFileRmvTitle,msg:xrb.dash.promptFileRmvText,fn:function(r){if(r=="yes"){Ext.Ajax.request({url:rb.data,params:{post:"removeorphan",id:o.data.sysid},success:function(s,t){p.getStore().remove(o);
}});}},icon:Ext.MessageBox.WARNING,buttons:Ext.Msg.YESNO});}}]});}else{var m=new Ext.menu.Menu({items:[{text:xrb.dash.openTab,iconCls:"icon-edit",handler:function(){Ext.openComputer(null,Ext.storeComputers.find("dn",o.data.sysid));}},"-",{text:xrb.dash.rdp,iconCls:"icon-rdp",handler:function(){Ext.launchRemote(o.data.dns);
}}]});}m.showAt(q.getXY());}}});var h=new Ext.Panel({region:"south",layout:"border",border:false,height:500,defaults:{split:true},items:[l,k]});var e=new Ext.Panel({region:"east",width:"33%",layout:"border",border:false,defaults:{split:true},items:[c,h]});var d=new Ext.Panel({layout:"border",plain:true,border:false,defaults:{split:true},items:[f,e]});
Ext.apply(this,{title:xrb.dash.title,layout:"fit",closable:false,border:false,iconCls:"icon-home",items:[d]});dashboard.superclass.constructor.apply(this,arguments);this.on("render",i,this);function i(){}function a(q,n,m,s,p,o){var r='<div class="environment '+m.data.type.toLowerCase()+'">'+m.data.nm+"</div>";
return String.format(r);}function g(){return d.ownerCt.id.replace(/tab\_/g,"");}};Ext.extend(dashboard,Ext.Panel,{});